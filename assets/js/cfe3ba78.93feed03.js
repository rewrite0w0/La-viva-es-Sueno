"use strict";(self.webpackChunkla_viva_es_sueno=self.webpackChunkla_viva_es_sueno||[]).push([[2813],{3905:function(e,n,r){r.d(n,{Zo:function(){return p},kt:function(){return m}});var t=r(7294);function l(e,n,r){return n in e?Object.defineProperty(e,n,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[n]=r,e}function o(e,n){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var t=Object.getOwnPropertySymbols(e);n&&(t=t.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),r.push.apply(r,t)}return r}function a(e){for(var n=1;n<arguments.length;n++){var r=null!=arguments[n]?arguments[n]:{};n%2?o(Object(r),!0).forEach((function(n){l(e,n,r[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):o(Object(r)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))}))}return e}function s(e,n){if(null==e)return{};var r,t,l=function(e,n){if(null==e)return{};var r,t,l={},o=Object.keys(e);for(t=0;t<o.length;t++)r=o[t],n.indexOf(r)>=0||(l[r]=e[r]);return l}(e,n);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(t=0;t<o.length;t++)r=o[t],n.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(l[r]=e[r])}return l}var i=t.createContext({}),u=function(e){var n=t.useContext(i),r=n;return e&&(r="function"==typeof e?e(n):a(a({},n),e)),r},p=function(e){var n=u(e.components);return t.createElement(i.Provider,{value:n},e.children)},c={inlineCode:"code",wrapper:function(e){var n=e.children;return t.createElement(t.Fragment,{},n)}},d=t.forwardRef((function(e,n){var r=e.components,l=e.mdxType,o=e.originalType,i=e.parentName,p=s(e,["components","mdxType","originalType","parentName"]),d=u(r),m=l,b=d["".concat(i,".").concat(m)]||d[m]||c[m]||o;return r?t.createElement(b,a(a({ref:n},p),{},{components:r})):t.createElement(b,a({ref:n},p))}));function m(e,n){var r=arguments,l=n&&n.mdxType;if("string"==typeof e||l){var o=r.length,a=new Array(o);a[0]=d;var s={};for(var i in n)hasOwnProperty.call(n,i)&&(s[i]=n[i]);s.originalType=e,s.mdxType="string"==typeof e?e:l,a[1]=s;for(var u=2;u<o;u++)a[u]=r[u];return t.createElement.apply(null,a)}return t.createElement.apply(null,r)}d.displayName="MDXCreateElement"},5268:function(e,n,r){r.r(n),r.d(n,{assets:function(){return p},contentTitle:function(){return i},default:function(){return m},frontMatter:function(){return s},metadata:function(){return u},toc:function(){return c}});var t=r(7462),l=r(3366),o=(r(7294),r(3905)),a=["components"],s={slug:"record-fzo",title:"fzo \uc81c\uc791\uae30",authors:"rewrite0w0",tags:["nodejs","javascript","\uac10\uc0c1"]},i=void 0,u={permalink:"/La-viva-es-Sueno/blog/record-fzo",source:"@site/blog/article-list/2022-04-18-record-fzo.md",title:"fzo \uc81c\uc791\uae30",description:"\ub3d9\uae30",date:"2022-04-18T00:00:00.000Z",formattedDate:"April 18, 2022",tags:[{label:"nodejs",permalink:"/La-viva-es-Sueno/blog/tags/nodejs"},{label:"javascript",permalink:"/La-viva-es-Sueno/blog/tags/javascript"},{label:"\uac10\uc0c1",permalink:"/La-viva-es-Sueno/blog/tags/\uac10\uc0c1"}],readingTime:2.06,truncated:!1,authors:[{name:"rewrite0w0",title:"JavaScript \uac1c\ubc1c\uc790",url:"https://github.com/rewrite0w0",key:"rewrite0w0"}],frontMatter:{slug:"record-fzo",title:"fzo \uc81c\uc791\uae30",authors:"rewrite0w0",tags:["nodejs","javascript","\uac10\uc0c1"]},nextItem:{title:"\ubaa8\ub4c8\uc774 \ud63c\ub780\uc2a4\ub7fd\ub2e4.",permalink:"/La-viva-es-Sueno/blog/confused-modules"}},p={authorsImageUrls:[void 0]},c=[{value:"\ub3d9\uae30",id:"\ub3d9\uae30",level:2},{value:"\uad6c\ud604",id:"\uad6c\ud604",level:2},{value:"\ud658\uacbd\uc124\uc815",id:"\ud658\uacbd\uc124\uc815",level:2},{value:"\uc758\uc874 \ud328\ud0a4\uc9c0",id:"\uc758\uc874-\ud328\ud0a4\uc9c0",level:3},{value:"script",id:"script",level:3},{value:"eslint",id:"eslint",level:3},{value:".eslintrc.js",id:"eslintrcjs",level:4},{value:"babel",id:"babel",level:3},{value:".babelrc.js",id:"babelrcjs",level:4},{value:"rollup",id:"rollup",level:3},{value:"rollup.config.js",id:"rollupconfigjs",level:4},{value:"build",id:"build",level:3},{value:"CI/CD",id:"cicd",level:3},{value:"\uacb0\uacfc",id:"\uacb0\uacfc",level:2}],d={toc:c};function m(e){var n=e.components,r=(0,l.Z)(e,a);return(0,o.kt)("wrapper",(0,t.Z)({},d,r,{components:n,mdxType:"MDXLayout"}),(0,o.kt)("h2",{id:"\ub3d9\uae30"},"\ub3d9\uae30"),(0,o.kt)("p",null,"\ub9e4\ubc88 Object.freeze(",(0,o.kt)("inlineCode",{parentName:"p"},"\uac1d\uccb4/\ubc30\uc5f4"),")\ub97c \ud558\ub294 \uac83\uc774 \ubc88\uac70\ub85c\uc6e0\ub2e4."),(0,o.kt)("p",null,"\uae4a\uc740 \ub3d9\uacb0\ub3c4 \ub530\ub85c \ud588\uc5b4\uc57c\ud588\ub2e4. \ub2e4\ub978 \ub77c\uc774\ube0c\ub7ec\ub9ac\ub3c4 \uc788\uaca0\uc9c0\ub9cc \uc0dd\uac01\ub09c \uae40\uc5d0 \ub9cc\ub4e4\uc5b4\ubcf4\uc790."),(0,o.kt)("h2",{id:"\uad6c\ud604"},"\uad6c\ud604"),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-js"},"module.exports = function fzo(obj) {\n  if (typeof obj === 'object' && !Object.isFrozen(obj)) {\n    Object.keys(obj).forEach((idx) => fzo(obj[idx]));\n    Object.freeze(obj);\n  } else {\n    return;\n  }\n  return obj;\n};\n")),(0,o.kt)("h2",{id:"\ud658\uacbd\uc124\uc815"},"\ud658\uacbd\uc124\uc815"),(0,o.kt)("h3",{id:"\uc758\uc874-\ud328\ud0a4\uc9c0"},"\uc758\uc874 \ud328\ud0a4\uc9c0"),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-bash"},"# windows10, powershell \ud658\uacbd\nmd src, test\nnpm i -D eslint jest rimraf @babel/core @babel/preset-env rollup @rollup/plugin-babel @rollup/plugin-commonjs @rollup/plugin-node-resolve rollup-plugin-terser\n")),(0,o.kt)("h3",{id:"script"},"script"),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-json"},'// ...\n  "main": "dist/fzo.cjs.js",\n  "browser": "dist/fzo.js",\n  "module": "dist/fzo.es.js",\n  "scripts": {\n    "lint": "eslint --fix src/**/*.js",\n    "build": "npm run clean && rollup -c",\n    "test": "jest",\n    "clean": "rimraf dist/*"\n  },\n// ...\n')),(0,o.kt)("h3",{id:"eslint"},"eslint"),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-bash"},".\\node_modules\\.bin\\eslint --init\n")),(0,o.kt)("h4",{id:"eslintrcjs"},".eslintrc.js"),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-js"},"module.exports = {\n  env: {\n    browser: true,\n    es2021: true,\n    node: true,\n  },\n  extends: 'eslint:recommended',\n  parserOptions: {\n    ecmaVersion: 'latest',\n    sourceType: 'module',\n  },\n  rules: {},\n};\n")),(0,o.kt)("h3",{id:"babel"},"babel"),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-bash"},"ni .babelrc.js\n")),(0,o.kt)("h4",{id:"babelrcjs"},".babelrc.js"),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-js"},"module.exports = {\n  presets: [['@babel/preset-env']],\n};\n")),(0,o.kt)("h3",{id:"rollup"},"rollup"),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-bash"},"ni rollup.config.js\n")),(0,o.kt)("h4",{id:"rollupconfigjs"},"rollup.config.js"),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-js"},"const { nodeResolve } = require('@rollup/plugin-node-resolve');\nconst pluginCommonjs = require('@rollup/plugin-commonjs');\nconst { terser } = require('rollup-plugin-terser');\nconst { babel } = require('@rollup/plugin-babel');\n\nconst pkg = require('./package.json');\nconst path = require('path');\n\nconst moduleName = pkg.name.replace(/^@.*\\//, '');\n\nconst banner = `\n/**\n * @license\n * ${moduleName}.js v${pkg.version}\n * Released under the ${pkg.license} License.\n **/\n`;\n\nmodule.exports = [\n  // browser\n  {\n    input: 'src/index.js',\n    output: [\n      {\n        name: moduleName,\n        file: pkg.browser,\n        format: 'iife',\n        sourcemap: 'inline',\n        banner,\n      },\n      {\n        name: moduleName,\n        file: pkg.browser.replace('.js', '.min.js'),\n        format: 'iife',\n        sourcemap: 'inline',\n        banner,\n        plugins: [terser()],\n      },\n    ],\n    plugins: [\n      nodeResolve({ browser: true }),\n      pluginCommonjs({ extensions: ['.js'] }),\n      babel({\n        babelHelpers: 'bundled',\n        configFile: path.resolve(__dirname, '.babelrc.js'),\n      }),\n    ],\n  },\n\n  // ES Module\n  {\n    input: 'src/index.js',\n    output: [\n      {\n        file: pkg.module,\n        format: 'es',\n        sourcemap: 'inline',\n        banner,\n        exports: 'named',\n      },\n    ],\n    plugins: [\n      pluginCommonjs({\n        extensions: ['.js'],\n      }),\n      babel({\n        babelHelpers: 'bundled',\n        configFile: path.resolve(__dirname, '.babelrc.js'),\n      }),\n      nodeResolve({\n        browser: false,\n      }),\n    ],\n  },\n\n  // CommonJS\n  {\n    input: 'src/index.js',\n    output: [\n      {\n        file: pkg.main,\n        format: 'cjs',\n        sourcemap: 'inline',\n        banner,\n        exports: 'default',\n      },\n    ],\n    plugins: [\n      pluginCommonjs({\n        extensions: ['.js'],\n      }),\n      babel({\n        babelHelpers: 'bundled',\n        configFile: path.resolve(__dirname, '.babelrc.js'),\n      }),\n      nodeResolve({\n        browser: false,\n      }),\n    ],\n  },\n];\n")),(0,o.kt)("h3",{id:"build"},"build"),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-bash"},"npm run build\n")),(0,o.kt)("h3",{id:"cicd"},"CI/CD"),(0,o.kt)("p",null,"\ucd94\ud6c4 \ucd94\uac00"),(0,o.kt)("h2",{id:"\uacb0\uacfc"},"\uacb0\uacfc"),(0,o.kt)("p",null,(0,o.kt)("a",{parentName:"p",href:"https://github.com/rewrite0w0/fzo"},"git")),(0,o.kt)("p",null,(0,o.kt)("a",{parentName:"p",href:"https://www.npmjs.com/package/fzo"},"npm")))}m.isMDXComponent=!0}}]);