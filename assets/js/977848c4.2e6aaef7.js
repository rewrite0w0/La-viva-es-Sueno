"use strict";(self.webpackChunkla_viva_es_sueno=self.webpackChunkla_viva_es_sueno||[]).push([[4705],{3905:function(e,t,n){n.d(t,{Zo:function(){return u},kt:function(){return d}});var r=n(7294);function a(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function l(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function o(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?l(Object(n),!0).forEach((function(t){a(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):l(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function i(e,t){if(null==e)return{};var n,r,a=function(e,t){if(null==e)return{};var n,r,a={},l=Object.keys(e);for(r=0;r<l.length;r++)n=l[r],t.indexOf(n)>=0||(a[n]=e[n]);return a}(e,t);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);for(r=0;r<l.length;r++)n=l[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}var s=r.createContext({}),p=function(e){var t=r.useContext(s),n=t;return e&&(n="function"==typeof e?e(t):o(o({},t),e)),n},u=function(e){var t=p(e.components);return r.createElement(s.Provider,{value:t},e.children)},c={inlineCode:"code",wrapper:function(e){var t=e.children;return r.createElement(r.Fragment,{},t)}},g=r.forwardRef((function(e,t){var n=e.components,a=e.mdxType,l=e.originalType,s=e.parentName,u=i(e,["components","mdxType","originalType","parentName"]),g=p(n),d=a,m=g["".concat(s,".").concat(d)]||g[d]||c[d]||l;return n?r.createElement(m,o(o({ref:t},u),{},{components:n})):r.createElement(m,o({ref:t},u))}));function d(e,t){var n=arguments,a=t&&t.mdxType;if("string"==typeof e||a){var l=n.length,o=new Array(l);o[0]=g;var i={};for(var s in t)hasOwnProperty.call(t,s)&&(i[s]=t[s]);i.originalType=e,i.mdxType="string"==typeof e?e:a,o[1]=i;for(var p=2;p<l;p++)o[p]=n[p];return r.createElement.apply(null,o)}return r.createElement.apply(null,n)}g.displayName="MDXCreateElement"},5144:function(e,t,n){n.r(t),n.d(t,{assets:function(){return u},contentTitle:function(){return s},default:function(){return d},frontMatter:function(){return i},metadata:function(){return p},toc:function(){return c}});var r=n(7462),a=n(3366),l=(n(7294),n(3905)),o=["components"],i={slug:"playwright-tutorial",title:"Playwright \uc0ac\uc6a9\uae30",authors:"rewrite0w0",tags:["test","playwright","\uac10\uc0c1"]},s=void 0,p={permalink:"/La-viva-es-Sueno/blog/playwright-tutorial",source:"@site/blog/article-list/2022-04-22-playwright-tutorial.md",title:"Playwright \uc0ac\uc6a9\uae30",description:"e2e \ud14c\uc2a4\ud2b8 \ub77c\uc774\ube0c\ub7ec\ub9ac\uac00 \uc5ec\ub7ff\uc788\uc9c0\ub9cc, Playwright\uac00 \uad81\uae08\ud574\uc11c \uc0ac\uc6a9\ud588\ub2e4.",date:"2022-04-22T00:00:00.000Z",formattedDate:"April 22, 2022",tags:[{label:"test",permalink:"/La-viva-es-Sueno/blog/tags/test"},{label:"playwright",permalink:"/La-viva-es-Sueno/blog/tags/playwright"},{label:"\uac10\uc0c1",permalink:"/La-viva-es-Sueno/blog/tags/\uac10\uc0c1"}],readingTime:1.57,truncated:!1,authors:[{name:"rewrite0w0",title:"JavaScript \uac1c\ubc1c\uc790",url:"https://github.com/rewrite0w0",key:"rewrite0w0"}],frontMatter:{slug:"playwright-tutorial",title:"Playwright \uc0ac\uc6a9\uae30",authors:"rewrite0w0",tags:["test","playwright","\uac10\uc0c1"]},prevItem:{title:"github actions \uc0ac\uc6a9\uae30",permalink:"/La-viva-es-Sueno/blog/2022-04-23-record-of-github-action"},nextItem:{title:"\uc790\uc8fc \uc4f0\ub294 \uba85\ub839\uc5b4 \ubaa9\ub85d",permalink:"/La-viva-es-Sueno/blog/commands-cheatsheet"}},u={authorsImageUrls:[void 0]},c=[{value:"\uc2dc\uc791",id:"\uc2dc\uc791",level:2},{value:"\uc790\ub3d9\uc0dd\uc131",id:"\uc790\ub3d9\uc0dd\uc131",level:2},{value:"\ud14c\uc2a4\ud2b8",id:"\ud14c\uc2a4\ud2b8",level:2},{value:"1. playwright\ub85c test",id:"1-playwright\ub85c-test",level:3},{value:"2. node\ub85c test",id:"2-node\ub85c-test",level:3},{value:"\ub9cc\uc57d cron \uac19\uc740 \uac83\uacfc \uc870\ud569\ud55c\ub2e4\uba74",id:"\ub9cc\uc57d-cron-\uac19\uc740-\uac83\uacfc-\uc870\ud569\ud55c\ub2e4\uba74",level:4},{value:"\uc77d\uc744\uac70\ub9ac",id:"\uc77d\uc744\uac70\ub9ac",level:2}],g={toc:c};function d(e){var t=e.components,n=(0,a.Z)(e,o);return(0,l.kt)("wrapper",(0,r.Z)({},g,n,{components:t,mdxType:"MDXLayout"}),(0,l.kt)("p",null,"e2e \ud14c\uc2a4\ud2b8 \ub77c\uc774\ube0c\ub7ec\ub9ac\uac00 \uc5ec\ub7ff\uc788\uc9c0\ub9cc, ",(0,l.kt)("a",{parentName:"p",href:"https://playwright.dev/"},"Playwright"),"\uac00 \uad81\uae08\ud574\uc11c \uc0ac\uc6a9\ud588\ub2e4."),(0,l.kt)("h2",{id:"\uc2dc\uc791"},"\uc2dc\uc791"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-bash"},"npm init playwright@latest\n")),(0,l.kt)("h2",{id:"\uc790\ub3d9\uc0dd\uc131"},"\uc790\ub3d9\uc0dd\uc131"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-bash"},'npx playwright codegen --save-storage=auth.json "url"\n')),(0,l.kt)("h2",{id:"\ud14c\uc2a4\ud2b8"},"\ud14c\uc2a4\ud2b8"),(0,l.kt)("h3",{id:"1-playwright\ub85c-test"},"1. playwright\ub85c test"),(0,l.kt)("p",null,(0,l.kt)("inlineCode",{parentName:"p"},"tests")," \ud3f4\ub354 \ub0b4\uc5d0 ",(0,l.kt)("inlineCode",{parentName:"p"},"*.spec.js"),"\ub85c \ud14c\uc2a4\ud2b8 \uc800\uc7a5"),(0,l.kt)("p",null,"\uc774\ub807\uac8c\ud558\uba74 \uc778\uc99d\uc744 \uc5ec\ub7ec \uac1c \ud560 \uc218 \uc788\uc74c"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-js"},"const { test } = require('@playwright/test');\n\ntest.use({ storageState: 'adminStorageState.json' });\n\ntest('admin test', async ({ page }) => {});\n\ntest.describe(() => {\n  test.use({ storageState: 'userStorageState.json' });\n\n  test('user test', async ({ page }) => {});\n});\n")),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-bash"},"npm run playwright test --headed\n# or\nnpx playwright test --headed\n# --headed\ub294 headless: false\n")),(0,l.kt)("h3",{id:"2-node\ub85c-test"},"2. node\ub85c test"),(0,l.kt)("p",null,(0,l.kt)("inlineCode",{parentName:"p"},"*.js"),"\ub85c \uc800\uc7a5"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-js"},"const { chromium } = require('playwright');\n\n(async () => {\n  const browser = await chromium.launch({\n    headless: false,\n  });\n  const context = await browser.newContext({ storageState: './auth.json' });\n  // \uc778\uc99d\uc815\ubcf4 \uc0ac\uc6a9\n\n  // Open new page\n  const page = await context.newPage();\n\n  await page.goto('url');\n\n  // \uc694\uc18c \ucc3e\uae30 & \uc0c8\ub85c\uace0\uce68\n  async function attrChecker() {\n    let status = await page.$('document.querySelector() \ub290\ub08c\uc73c\ub85c \uc18d\uc131 \uc120\ud0dd');\n    if (status !== null) {\n      Promise.all([\n        page.waitForNavigation({ waitUntil: 'load' }),\n        page.locator('\uc704\uc640 \uac19\uc740 \uc18d\uc131').click(),\n      ]);\n    } else {\n      console.log('retry');\n      await page.reload();\n      attrChecker();\n    }\n  }\n\n  await attrChecker();\n\n  // ---------------------\n  await context.close();\n  await browser.close();\n})();\n")),(0,l.kt)("p",null,"\uc989\uc2dc \uc2e4\ud589 \ud568\uc218\uc774\ubbc0\ub85c"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-bash"},"node ./*.js\n")),(0,l.kt)("p",null,"\uc2e4\ud589\uac00\ub2a5"),(0,l.kt)("h4",{id:"\ub9cc\uc57d-cron-\uac19\uc740-\uac83\uacfc-\uc870\ud569\ud55c\ub2e4\uba74"},"\ub9cc\uc57d cron \uac19\uc740 \uac83\uacfc \uc870\ud569\ud55c\ub2e4\uba74"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-js"},"module.exports = async() => // ...\n")),(0,l.kt)("p",null,"\uc989\uac01 \ud568\uc218 \ud574\uc81c\ud558\uba70 \ubcf4\ub0b4\uc918\uc57c cron \uc608\uc57d\uc5d0 \ub9de\ucdb0 \uc0ac\uc6a9 \uac00\ub2a5"),(0,l.kt)("h2",{id:"\uc77d\uc744\uac70\ub9ac"},"\uc77d\uc744\uac70\ub9ac"),(0,l.kt)("ul",null,(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("a",{parentName:"li",href:"https://playwright.dev/"},"https://playwright.dev/"))))}d.isMDXComponent=!0}}]);